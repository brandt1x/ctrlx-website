<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Thank You — Control-X</title>
	<link rel="stylesheet" href="style.css">
	<link rel="icon" type="image/png" href="images/logo.png">
</head>

<body>
	<canvas id="site-canvas-bg" class="site-canvas-bg" aria-hidden="true"></canvas>
	<div class="site-vignette" aria-hidden="true"></div>

	<header class="site-header">
		<div class="container header-inner">
			<a href="index.html"><img src="images/logo.png" alt="CTRLX Logo" class="logo-image logo-dark" /></a>
			<a href="index.html"><img src="images/whitelogo.png" alt="CTRLX Logo" class="logo-image logo-light" /></a>
			<div class="header-right">
				<nav class="nav-center">
					<div class="nav-group nav-left">
						<a href="index.html">Home</a>
						<a href="services.html">Services</a>
						<a href="zen-scripts.html">Zen Scripts</a>
					</div>
					<a href="ultimate.html" class="nav-ultimate nav-center-link">ULTIMATE</a>
					<div class="nav-group nav-right"></div>
				</nav>
				<div class="header-actions">
					<a href="contact.html" class="btn">Contact</a>
					<button id="theme-toggle" class="theme-toggle" type="button" aria-label="Toggle light mode">
						<span class="theme-toggle-switch">
							<span class="theme-icon theme-icon-dark">☾</span>
							<span class="theme-icon theme-icon-light">☀</span>
						</span>
					</button>
				</div>
			</div>
		</div>
	</header>

	<main class="container" style="padding: 4rem 1rem; text-align: center;">
		<h2>Thank you for your purchase!</h2>
		<p class="muted">Your payment was successful. We'll be in touch shortly.</p>
		<div id="success-downloads" style="margin: 1.5rem 0;"></div>
		<div class="success-support" style="margin: 1.5rem auto 2rem; max-width: 480px; padding: 1.25rem 1.5rem; background: rgba(248, 113, 113, 0.12); border-radius: 12px; border: 1px solid rgba(248, 113, 113, 0.35);">
			<p style="margin: 0 0 1rem; font-size: 0.9375rem; color: var(--text);">Questions or need help? <a href="contact.html" style="color: var(--accent);">Contact us</a> or <a href="https://discord.gg/q9KWFd9xxH" target="_blank" rel="noopener" style="color: var(--accent);">join our Discord</a>.</p>
			<div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 12px;">
				<a href="contact.html" class="btn" style="padding: 10px 20px;">Contact Page</a>
				<a href="https://discord.gg/q9KWFd9xxH" target="_blank" rel="noopener" class="btn ghost" style="padding: 10px 20px;">Join Discord</a>
			</div>
		</div>
		<a href="index.html" class="btn">Back to Home</a>
	</main>

	<footer class="site-footer">
		<div class="container">
			<small>© <span id="year"></span> Control-X — All lawful services.</small>
		</div>
	</footer>

	<script src="script.js"></script>
	<script src="cinematic.js"></script>
	<script>
		(function setupSuccessDownloads() {
			const params = new URLSearchParams(window.location.search);
			const sessionId = params.get('session_id');
			const container = document.getElementById('success-downloads');
			if (!sessionId || !container) return;

			fetch(`${window.location.origin}/api/verify-session?session_id=${encodeURIComponent(sessionId)}`)
				.then((r) => r.json())
				.then((data) => {
					if (!data.paid) return;
					const links = [];
					if (data.hasControlX) {
						links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=control-x" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download CONTROL+X Ultimate Script (.gpc)</a>`);
					}
					if (data.hasAllBundle) {
						links.push(`<a href="/api/download-all-scripts?session_id=${encodeURIComponent(sessionId)}" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download All Scripts (ZIP)</a>`);
					} else {
						if (data.has2K) {
							links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=2k" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download 2K Script (.gpc)</a>`);
						}
						if (data.hasCOD) {
							links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=cod" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download COD Script (.gpc)</a>`);
						}
						if (data.hasApex) {
							links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=apex" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download Apex Script (.gpc)</a>`);
						}
						if (data.hasArc) {
							links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=arc" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download ARC Script (.gpc)</a>`);
						}
						if (data.hasFortnite) {
							links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=fortnite" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download Fortnite Script (.gpc)</a>`);
						}
						if (data.hasSiege) {
							links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=siege" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download Siege Script (.gpc)</a>`);
						}
						if (data.hasRust) {
							links.push(`<a href="/api/download-script?session_id=${encodeURIComponent(sessionId)}&script=rust" class="btn" style="display: inline-flex; align-items: center; gap: 8px; margin-bottom: 0.5rem;">⬇ Download Rust Script (.gpc)</a>`);
						}
					}
					if (links.length) {
						container.innerHTML = links.join('<br>') + '<p class="muted" style="font-size: 0.875rem; margin-top: 0.5rem;">Load the file(s) into Zen Studio and flash to your CronusZen.</p>';
					}
				})
				.catch(() => {});
		})();
	</script>
</body>

</html>
